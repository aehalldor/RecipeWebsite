<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>Discover</title>
    
    <link rel="stylesheet" href="{{ url_for('static',filename='css/discover_style.css') }}" />
    <script src="jquery-3.6.0.js"></script>
    
    
    
  </head>

  <body>

    <!-- include the needed font from google api -->
    <link rel="stylesheet" type="text/css" href="http://fonts.googleapis.com/css?family=Archivo+Black" />
    <!-- include the nutrition label plugin css file -->
    <link rel="stylesheet" type="text/css" href="/bower_components/nutrition-label-jquery-plugin/dist/css/nutritionLabel-min.css">
    <!-- include the jquery library -->
    <script type="text/javascript" src="/bower_components/jquery/dist/jquery.min.js"></script>
    <!-- include the nutrition label plugin js file -->
    <script type="text/javascript" src="/bower_components/nutrition-label-jquery-plugin/dist/js/nutritionLabel-min.js"></script>

    

    <header>Discover</header>

    <br>

    <header>Countries</header>
  
    <input id="BritishButton" type="button" onclick="countrySearch('British')" value="British" />

    <input id="ChineseButton" type="button" onclick="countrySearch('Chinese')" value="Chinese" />

    <input id="JamaicanButton" type="button" onclick="countrySearch('Jamaican')" value="Jamaican" />

    <input id="IndianButton" type="button" onclick="countrySearch('Indian')" value="Indian" />

    <input id="CanadianButton" type="button" onclick="countrySearch('Canadian')" value="Canadian" />

    <br>

    <header>Categories</header>

    <input id="BreakfastButton" type="button" onclick="categorySearch('Breakfast')" value="Breakfast" />

    <input id="DessertButton" type="button" onclick="categorySearch('Dessert')" value="Dessert" />

    <input id="VegetarianButton" type="button" onclick="categorySearch('Vegetarian')" value="Vegetarian" />

    <input id="SeafoodButton" type="button" onclick="categorySearch('Seafood')" value="Seafood" />

    <input id="PastaButton" type="button" onclick="categorySearch('Pasta')" value="Pasta" />


    <br>
    <a href="javascript:;" onclick="href='/'">Go to landing page</a>
    <br>

  </body>

  <script>

    function countrySearch(country){

      var url = new URL("https://www.themealdb.com/api/json/v1/1/filter.php?a=" + country);
      fetch(url)
        .then((response) => {
          return response.json();
        })
        .then((data) => {

          //generate random int between 0 and list length
          var randomInt = Math.floor(Math.random() * data.meals.length);

          var randomID = data.meals[randomInt].idMeal;

          window.location = "/recipepage/" + randomID;

        })
    }

    function categorySearch(category){

      var url = new URL("https://www.themealdb.com/api/json/v1/1/filter.php?c=" + category);
      fetch(url)
        .then((response) => {
          return response.json();
        })
        .then((data) => {

          //generate random int between 0 and list length
          var randomInt = Math.floor(Math.random() * data.meals.length);

          var randomID = data.meals[randomInt].idMeal;

          window.location = "/recipepage/" + randomID;

        })
    }




    $('#test2').nutritionLabel({
      showServingUnitQuantity : false,
      itemName : 'Bleu Cheese Dressing',
      ingredientList : 'Bleu Cheese Dressing',

      decimalPlacesForQuantityTextbox : 2,
      valueServingUnitQuantity : 1,

      allowFDARounding : true,
      decimalPlacesForNutrition : 2,

      showPolyFat : false,
      showMonoFat : false,

      valueCalories : 450,
      valueFatCalories : 430,
      valueTotalFat : 48,
      valueSatFat : 6,
      valueTransFat : 0,
      valueCholesterol : 30,
      valueSodium : 780,
      valueTotalCarb : 3,
      valueFibers : 0,
      valueSugars : 3,
      valueProteins : 3,
      valueVitaminA : 1.22,
      valueVitaminC : 4.22,
      valueCalcium : 7.22,
      valueIron : 11.22
    })
  </script>

</html>