<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>Discover</title>
    
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/css/bootstrap.min.css" integrity="sha384-zCbKRCUGaJDkqS1kPbPd7TveP5iyJE0EjAuZQTgFLD2ylzuqKfdKlfG/eSrtxUkn" crossorigin="anonymous">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <link rel="stylesheet" href="{{ url_for('static',filename='css/discover_style.css') }}" />
  </head>

  <nav class="navbar navbar-light bg-light">
    <a class="navbar-brand" href="/">
      <img src="{{url_for('static',filename = 'logo.png')}}" width="30" height="30" class="d-inline-block align-top" alt="">
      HOME Recipes
    </a>
    <span class="navbar-text">
      Discovery
    </span>
  </nav>

  <body>
    <br>
    <div class="text-center">
      <h3>Discover Recipes</h3>
        <a class="btn btn-primary btn-lg" href="javascript:;" onclick="showHide('randomCountry')">Random By Country</a>
        <a class="btn btn-primary btn-lg" href="javascript:;" onclick="showHide('randomCategory')">Random By Category</a>
        <a class="btn btn-primary btn-lg" href="javascript:;" onclick="showHide('listAllCountry')">View All By Country</a>
        <a class="btn btn-primary btn-lg" href="javascript:;" onclick="showHide('listAllCategory')">View All By Category</a>
    </div>

    <br>

    <div id="listAllCountry" class="text-center">
      <h4>List All By Country</h4>
      <br>
      <a class="btn btn-primary" href="countrylist/American">ğŸ‡ºğŸ‡¸ American ğŸ‡ºğŸ‡¸</a>
      <a class="btn btn-primary" href="countrylist/British">ğŸ‡¬ğŸ‡§ British ğŸ‡¬ğŸ‡§</a>
      <a class="btn btn-primary" href="countrylist/Canadian">ğŸ‡¨ğŸ‡¦ Canadian ğŸ‡¨ğŸ‡¦</a>
      <a class="btn btn-primary" href="countrylist/Chinese">ğŸ‡¨ğŸ‡³ Chinese ğŸ‡¨ğŸ‡³</a>
      <a class="btn btn-primary" href="countrylist/Croation">ğŸ‡­ğŸ‡· Croatian ğŸ‡­ğŸ‡·</a> 

      <a class="btn btn-primary" href="countrylist/Egyptian">ğŸ‡ªğŸ‡¬ Egyptian ğŸ‡ªğŸ‡¬</a>
      <a class="btn btn-primary" href="countrylist/French">ğŸ‡«ğŸ‡· French ğŸ‡«ğŸ‡·</a>
      <a class="btn btn-primary" href="countrylist/Greek">ğŸ‡¬ğŸ‡· Greek ğŸ‡¬ğŸ‡·</a>
      <a class="btn btn-primary" href="countrylist/Indian">ğŸ‡®ğŸ‡³ Indian ğŸ‡®ğŸ‡³</a>
      <a class="btn btn-primary" href="countrylist/Irish">ğŸ‡®ğŸ‡ª Irish ğŸ‡®ğŸ‡ª</a>

      <a class="btn btn-primary" href="countrylist/Italian">ğŸ‡®ğŸ‡¹ Italian ğŸ‡®ğŸ‡¹</a> 
      <a class="btn btn-primary" href="countrylist/Jamaican">ğŸ‡¯ğŸ‡² Jamaican ğŸ‡¯ğŸ‡²</a>
      <a class="btn btn-primary" href="countrylist/Japanese">ğŸ‡¯ğŸ‡µ Japanese ğŸ‡¯ğŸ‡µ</a>
      <a class="btn btn-primary" href="countrylist/Malaysian">ğŸ‡²ğŸ‡¾ Malaysian ğŸ‡²ğŸ‡¾</a>
      <a class="btn btn-primary" href="countrylist/Mexican">ğŸ‡²ğŸ‡½ Mexican ğŸ‡²ğŸ‡½</a>

      <a class="btn btn-primary" href="countrylist/Moroccan">ğŸ‡²ğŸ‡¦ Moroccan ğŸ‡²ğŸ‡¦</a> 
      <a class="btn btn-primary" href="countrylist/Polish">ğŸ‡µğŸ‡± Polish ğŸ‡µğŸ‡±</a>
      <a class="btn btn-primary" href="countrylist/Portuguese">ğŸ‡µğŸ‡¹ Portuguese ğŸ‡µğŸ‡¹</a>
      <a class="btn btn-primary" href="countrylist/Tunisian">ğŸ‡¹ğŸ‡³ Tunisian ğŸ‡¹ğŸ‡³</a>
    </div>

    <div id="listAllCategory" class="text-center">
      <h4>List All By Category</h4>
      <br>
      <a class="btn btn-primary" href="categorylist/Breakfast">ğŸ¥ Breakfast</a>
      <a class="btn btn-primary" href="categorylist/Dessert">ğŸ° Dessert</a>
      <a class="btn btn-primary" href="categorylist/Pasta">ğŸ Pasta</a>
      <a class="btn btn-primary" href="categorylist/Seafood">ğŸ£ Seafood</a>
      <a class="btn btn-primary" href="categorylist/Side">ğŸ¥— Sides</a>
      <a class="btn btn-primary" href="categorylist/Vegan">ğŸ¥¬ Vegan</a> 
      <a class="btn btn-primary" href="categorylist/Vegetarian">ğŸ¥¦ Vegetarian</a>
    </div>
    
    <div id="randomCountry" class="text-center">
      <h4>Random by Country</h4>
      <br>
      <div class="btn btn-primary" onclick="countrySearch('American')"> ğŸ‡ºğŸ‡¸ American ğŸ‡ºğŸ‡¸ </div>
      <div class="btn btn-primary" onclick="countrySearch('British')"> ğŸ‡¬ğŸ‡§ British ğŸ‡¬ğŸ‡§ </div>
      <div class="btn btn-primary" onclick="countrySearch('Canadian')"> ğŸ‡¨ğŸ‡¦ Canadian ğŸ‡¨ğŸ‡¦ </div>
      <div class="btn btn-primary" onclick="countrySearch('Chinese')"> ğŸ‡¨ğŸ‡³ Chinese ğŸ‡¨ğŸ‡³ </div>
      <div class="btn btn-primary" onclick="countrySearch('Croatian')"> ğŸ‡­ğŸ‡· Croatian ğŸ‡­ğŸ‡· </div>

      <div class="btn btn-primary" onclick="countrySearch('Egyptian')"> ğŸ‡ªğŸ‡¬ Egyptian ğŸ‡ªğŸ‡¬ </div>
      <div class="btn btn-primary" onclick="countrySearch('French')"> ğŸ‡«ğŸ‡· French ğŸ‡«ğŸ‡· </div>
      <div class="btn btn-primary" onclick="countrySearch('Greek')"> ğŸ‡¬ğŸ‡· Greek ğŸ‡¬ğŸ‡· </div>
      <div class="btn btn-primary" onclick="countrySearch('Indian')"> ğŸ‡®ğŸ‡³ Indian ğŸ‡®ğŸ‡³ </div>
      <div class="btn btn-primary" onclick="countrySearch('Irish')"> ğŸ‡®ğŸ‡ª Irish ğŸ‡®ğŸ‡ª </div>

      <div class="btn btn-primary" onclick="countrySearch('Jamaican')"> ğŸ‡¯ğŸ‡² Jamaican ğŸ‡¯ğŸ‡² </div>
      <div class="btn btn-primary" onclick="countrySearch('Japanese')"> ğŸ‡¯ğŸ‡µ Japanese ğŸ‡¯ğŸ‡µ </div>
      <div class="btn btn-primary" onclick="countrySearch('Malaysian')"> ğŸ‡²ğŸ‡¾ Malaysian ğŸ‡²ğŸ‡¾ </div>
      <div class="btn btn-primary" onclick="countrySearch('Mexican')"> ğŸ‡²ğŸ‡½ Mexican ğŸ‡²ğŸ‡½ </div>


      <div class="btn btn-primary" onclick="countrySearch('Moroccan')"> ğŸ‡²ğŸ‡¦ Moroccan ğŸ‡²ğŸ‡¦ </div>
      <div class="btn btn-primary" onclick="countrySearch('Polish')"> ğŸ‡µğŸ‡± Polish ğŸ‡µğŸ‡± </div>
      <div class="btn btn-primary" onclick="countrySearch('Portuguese')"> ğŸ‡µğŸ‡¹ Portuguese ğŸ‡µğŸ‡¹ </div>
      <div class="btn btn-primary" onclick="countrySearch('Tunisian')"> ğŸ‡¹ğŸ‡³ Tunisian ğŸ‡¹ğŸ‡³ </div>
    </div>
    
    <div id="randomCategory" class="text-center">
      <h4>Random by Category</h4>
      <br>
      <div class="btn btn-primary" onclick="categorySearch('Breakfast')">ğŸ¥ Breakfast</div>
      <div class="btn btn-primary" onclick="categorySearch('Dessert')">ğŸ° Dessert</div>
      <div class="btn btn-primary" onclick="categorySearch('Pasta')">ğŸ Pasta</div>
      <div class="btn btn-primary" onclick="categorySearch('Seafood')">ğŸ£ Seafood</div>
      <div class="btn btn-primary" onclick="categorySearch('Side')">ğŸ¥— Sides</div>
      <div class="btn btn-primary" onclick="categorySearch('Vegan')">ğŸ¥¬ Vegan</div>
      <div class="btn btn-primary" onclick="categorySearch('Vegetarian')">ğŸ¥¦ Vegetarian</div>
    </div>  




    <br>
<!-- 
    <header>Category Lists</header> -->

    <!-- <input id="canadaTestButton" type="button" onclick="window.location.href='countrylist/Canadian';" value="canada list test" /> -->


  </body>

  <script>
    function showHide(divID){
      document.getElementById("randomCategory").style.display = "";
      document.getElementById("randomCountry").style.display = "";
      document.getElementById("listAllCategory").style.display = "";
      document.getElementById("listAllCountry").style.display = "";
      let divEle = document.getElementById(divID);
      if(divEle.style.display == ""){
        divEle.style.display = "block";
      }else{
        divEle.style.display = "";
      }
    }
    function countrySearch(country){

      var url = new URL("https://www.themealdb.com/api/json/v1/1/filter.php?a=" + country);
      fetch(url)
        .then((response) => {
          return response.json();
        })
        .then((data) => {

          //generate random int between 0 and list length
          var randomInt = Math.floor(Math.random() * data.meals.length);

          var randomID = data.meals[randomInt].idMeal;

          window.location = "/recipepage/" + randomID;

        })
    }

    function categorySearch(category){

      var url = new URL("https://www.themealdb.com/api/json/v1/1/filter.php?c=" + category);
      fetch(url)
        .then((response) => {
          return response.json();
        })
        .then((data) => {

          //generate random int between 0 and list length
          var randomInt = Math.floor(Math.random() * data.meals.length);

          var randomID = data.meals[randomInt].idMeal;

          window.location = "/recipepage/" + randomID;

        })
    }

    function categoryList(category){

      var url = new URL("https://www.themealdb.com/api/json/v1/1/filter.php?c=" + category);
      fetch(url)
        .then((response) => {
          return response.json();
        })
        .then((data) => {

          let mealList = data.meals;

          //generate random int between 0 and list length
          var randomInt = Math.floor(Math.random() * data.meals.length);

          var randomID = data.meals[randomInt].idMeal;

          window.location = "/recipepage/" + randomID;

        })

    }

    // function testFunction() {

    //     let _data = {
    //         "query":"for breakfast i ate 2 eggs, bacon, and french toast",
    //         "timezone": "US/Eastern"
    //     }

    //     fetch('https://trackapi.nutritionix.com/v2/natural/nutrients', {
    //         method: "POST",
    //         body: JSON.stringify(_data),
    //         headers: {
    //                     "Content-type": "application/json",
    //                     "x-app-id": "ac882fa7",
    //                     "x-app-key": "d40a735a24db6dc8b9e3abd8aa01794d",
    //                     "x-remote-user-id": "0"
    //                  }
    //     })
    //     .then(response => response.json()) 
    //     .then(json => console.log(json)); 
    //     // .catch(err => console.log(err));
    // }


  </script>

</html>